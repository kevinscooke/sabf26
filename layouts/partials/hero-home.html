{{- $h := .Params.hero -}}
{{- if and $h .IsHome }}
<section class="relative overflow-hidden">
  <!-- Background image + overlay -->
  <div class="absolute inset-0 z-0">
    {{- $webp := "img/hero-bison.webp" -}}
    {{- $jpg  := "img/hero-bison.jpg"  -}}
    {{- $hasWebp := fileExists (printf "static/%s" $webp) -}}
    {{- $hasJpg  := fileExists (printf "static/%s" $jpg)  -}}
    {{- if or $hasWebp $hasJpg }}
      <picture>
        {{- if $hasWebp -}}<source srcset="{{ $webp | relURL }}" type="image/webp">{{- end -}}
        {{- if $hasJpg -}}
          <img src="{{ $jpg | relURL }}" alt="Bison on the plains"
               width="2400" height="1200"
               class="h-full w-full object-cover"
               loading="eager" fetchpriority="high" decoding="async">
        {{- else -}}
          <img src="data:image/gif;base64,R0lGODlhAQABAAAAACw=" alt="" class="h-full w-full object-cover">
        {{- end -}}
      </picture>
    {{- end }}
    <div class="absolute inset-0 bg-gradient-to-b from-black/70 via-black/50 to-black/60"></div>
  </div>

  <!-- Content -->
  <div class="relative z-10 mx-auto max-w-7xl px-4 py-20 md:py-28">
    <div class="grid gap-10 md:grid-cols-2 md:items-start">
      
      <!-- Left: Copy -->
      <div class="text-white">
        {{ with $h.eyebrow }}
          <p class="text-sm font-semibold tracking-widest text-gray-200/80 uppercase">{{ . }}</p>
        {{ end }}
        <h1 class="mt-3 text-4xl font-extrabold tracking-tight md:text-6xl">
          {{ $h.headline }}
        </h1>
        {{ with $h.subhead }}
          <p class="mt-4 max-w-xl text-lg text-gray-200/90">{{ . }}</p>
        {{ end }}
        <div class="mt-8 flex flex-wrap gap-3">
          {{ with $h.primary_cta }}
            <a href="{{ .href }}" class="inline-flex items-center rounded-xl px-5 py-3 text-base font-semibold bg-white text-gray-900 hover:bg-gray-100">
              {{ .label }}
            </a>
          {{ end }}
          {{ with $h.secondary_cta }}
            <a href="{{ .href }}" class="inline-flex items-center rounded-xl px-5 py-3 text-base font-semibold bg-gray-200 text-gray-900 hover:bg-gray-300">
              {{ .label }}
            </a>
          {{ end }}
        </div>
      </div>

      <!-- Right: Compact contact form card -->
      <div class="rounded-2xl border border-white/10 bg-white/90 p-6 shadow-sm backdrop-blur md:p-7">
        <h3 class="mb-4 text-xl font-semibold text-gray-900">Get Started</h3>
        <form method="post" action="{{ .Params.contact.form.action }}" class="grid gap-4">
          <input type="hidden" name="source" value="hero">
          <label class="block">
            <span class="mb-1 block text-sm font-medium text-gray-700">Name*</span>
            <input type="text" name="name" required class="w-full rounded-xl border px-3 py-2">
          </label>
          <label class="block">
            <span class="mb-1 block text-sm font-medium text-gray-700">Email*</span>
            <input type="email" name="email" required class="w-full rounded-xl border px-3 py-2">
          </label>
          <label class="block">
            <span class="mb-1 block text-sm font-medium text-gray-700">What are you trying to achieve?</span>
            <textarea name="message" rows="3" required class="w-full rounded-xl border px-3 py-2"></textarea>
          </label>
          <button type="submit" class="mt-2 inline-flex items-center justify-center rounded-xl bg-gray-900 px-5 py-3 text-base font-semibold text-white hover:bg-gray-800">
            Start Project
          </button>
        </form>
      </div>

    </div>
  </div>
</section>
{{- end }}
